<div class="navStyle align-middle">
    <span class="mx-auto text-center"><h3> Agent Registration </h3></span>
</div>      

<div class="container">   
<form (ngSubmit)="onSubmit()" [formGroup]="agentAddForm">
    <!-- activate -->
    <div class="form-check form-check-inline">
            <label class="form-check-label">
              <input 
                class="form-check-input" 
                type="checkbox" 
                id="isActivated" 
                [checked]="agentAddForm.controls.isActivated.value"
                (change)="onActivateChange()"
                formControlName="isActivated"> Agent <span *ngIf="agentAddForm.controls.isActivated.value == 1"> Activated </span> <span *ngIf="agentAddForm.controls.isActivated.value == 0"> Deactivated </span>
            </label>
    </div>

    <!-- first name -->
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input 
        type="text" 
        class="form-control" 
        id="firstName"
        formControlName="firstName"
        required>
    </div>
    <div *ngIf="agentAddForm.controls.firstName.invalid && (agentAddForm.controls.firstName.dirty || agentAddForm.controls.firstName.touched || agentAddForm.controls.firstName.untouched)"
            class="errorStyle">
        <div *ngIf="agentAddForm.controls.firstName.errors.required">
            First Name is required
        </div>
    </div>

    <!-- last name -->
    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input 
        type="text" 
        class="form-control" 
        id="lastName"
        formControlName="lastName">
    </div>
    <div *ngIf="agentAddForm.controls.lastName.invalid && (agentAddForm.controls.lastName.dirty || agentAddForm.controls.lastName.touched || agentAddForm.controls.lastName.untouched)"
            class="errorStyle">
        <div *ngIf="agentAddForm.controls.lastName.errors.required">
            Last Name is required
        </div>
    </div>

    <!-- phone number -->
    <div class="form-group">
            <label for="phoneNumber">Phone Number</label>
            <input 
                type="tel" 
                class="form-control" 
                id="phoneNumber"
                formControlName="phoneNumber">
    </div>

    <div *ngIf="agentAddForm.controls.phoneNumber.invalid && (agentAddForm.controls.phoneNumber.dirty || agentAddForm.controls.phoneNumber.touched || agentAddForm.controls.phoneNumber.untouched)"
            class="errorStyle">
        <div *ngIf="agentAddForm.controls.phoneNumber.errors.required">
            Phone Number is required
        </div>

        <div *ngIf="agentAddForm.controls.phoneNumber.dirty && (agentAddForm.controls.phoneNumber.errors.minLength || agentAddForm.controls.phoneNumber.errors.maxLength)">
            Phone Number must be at least 10 numbers long
        </div>

        <div *ngIf="agentAddForm.controls.phoneNumber.errors.pattern">
            Only numbers allowed
        </div>
    </div>

     <!-- email -->
    <div class="form-group">
      <label for="email">Email</label>
      <input 
        type="email" 
        class="form-control" 
        id="email"
        formControlName="email">
    </div>
    <div *ngIf="agentAddForm.controls.email.invalid && (agentAddForm.controls.email.dirty || agentAddForm.controls.email.touched || agentAddForm.controls.email.untouched)"
            class="errorStyle">
        <div *ngIf="agentAddForm.controls.email.errors.email">
            Please enter valid email id
        </div>
    </div>

    <!-- address-->
    <div class="form-group">
      <label for="address">Address</label>
      <input 
        type="text" 
        class="form-control" 
        id="address"
        formControlName="address">
    </div>

    <!-- pin code -->
    <div class="form-group">
        <label for="pinCode">Pin Code</label>
        <input 
          type="text" 
          class="form-control" 
          id="pinCode"
          formControlName="pinCode">
    </div>
    <div *ngIf="agentAddForm.controls.pinCode.invalid && (agentAddForm.controls.pinCode.dirty || agentAddForm.controls.pinCode.touched || agentAddForm.controls.pinCode.untouched)"
            class="errorStyle">
        <div *ngIf="agentAddForm.controls.pinCode.errors.required">
            Pincode required
        </div>

        <div *ngIf="agentAddForm.controls.pinCode.dirty && (agentAddForm.controls.pinCode.errors.minLength || agentAddForm.controls.pinCode.errors.maxLength)">
            Please enter valid Pin Code
        </div>

        <div *ngIf="agentAddForm.controls.pinCode.errors.pattern">
            Only numbers allowed
        </div>
    </div>

    <!-- password -->
    <div class="form-group">
        <label for="password">Password</label>
        <input 
          type="text" 
          class="form-control" 
          id="password"
          formControlName="password">
      </div>
      <div *ngIf="agentAddForm.controls.password.invalid && (agentAddForm.controls.password.dirty || agentAddForm.controls.password.touched || agentAddForm.controls.password.untouched)"
          class="errorStyle">
        <div *ngIf="agentAddForm.controls.password.errors.required">
            Password required
        </div>
      </div>
    
    <button type="submit" class="btn btn-dark btn-block" [disabled]="!agentAddForm.valid"> {{submitText}} </button>
</form>      
</div>